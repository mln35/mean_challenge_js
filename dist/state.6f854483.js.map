{"mappings":"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","sources":["compta/state.js"],"sourcesContent":["\n/*\nconsole.log(trans);\nrenderReport = () => {\n  let dateInf = getElementValue(\"#dateInf\");\n  let dateSup = getElementValue(\"#dateSup\");\n  \n  console.log(dateInf);\n  console.log(dateSup);\n  let account = document.querySelector(\"#account\");\n  let thead = document.querySelector(\"thead\");\n  let tbody = document.querySelector(\"#tbody\");\n  empty = document.querySelector(\"#empty\");\n  let totalDebit = 0;\n  let totalCredit = 0;\n  let solde = 0;\n  if (trans && trans.length > 0) {\n    thead.style.display = \"table-header-group\";\n    let num = 0;\n    tbody.innerHTML = \"\";\n\n    for (let i = 0; i < trans.length; i += 2) {\n      const l_debit = trans[i];\n      const l_credit = trans[i + 1];\n      tr = document.createElement(\"tr\");\n      date_td = document.createElement(\"td\");\n      label_td = document.createElement(\"td\");\n      debit_td = document.createElement(\"td\");\n      credit_td = document.createElement(\"td\");\n\n      date_td.innerHTML = l_debit.date;\n      label_td.innerHTML = l_debit.object;\n\n      if (l_debit.amount_debit_debit) {\n        debit_td.innerHTML = l_debit.amount_debit_debit;\n        credit_td.innerHTML = l_credit.amount_credit_credit;\n        \n        totalDebit += +l_debit.amount_debit_debit;\n        totalCredit += +l_credit.amount_credit_credit;\n        console.log(\":)\", totalDebit);\n        tr.classList.add(\"even-row\");\n      } else {\n        debit_td.innerHTML = l_credit.amount_credit_debit;\n        credit_td.innerHTML = l_debit.amount_debit_credit;\n\n        // totalDebit += +l_debit.amount_credit_debit;\n        // totalCredit += +l_credit.amount_debit_credit;\n      }\n\n      tr.appendChild(date_td);\n      tr.appendChild(label_td);\n      tr.appendChild(debit_td);\n      tr.appendChild(credit_td);\n      num++;\n      tbody.appendChild(tr);\n    }\n  } else {\n    // container = document.querySelector('.container');\n    thead.style.display = \"none\";\n    tbody.innerHTML = \"\";\n    empty = document.querySelector(\"#empty\");\n    empty.innerHTML = \"No log saved yet\";\n  }\n  document.querySelector(\"#totalDebit\").innerHTML= totalDebit;\n  document.querySelector(\"#totalCredit\").innerHTML = totalCredit;\n  document.querySelector(\"#solde\").innerHTML = totalDebit - totalCredit;\n};\n\ngetReport = function(){\n\n}\n\n\nloadTransactions();\nrenderReport();\n\n*/\nconsole.log(trans);\ndocument.querySelector(\"table\").style.display = \"none\";\n\nrenderReport = (start, end,label) => {\n  console.log('st',start);\n  console.log(end);\n  let account = document.querySelector(\"#account\");\n  let thead = document.querySelector(\"thead\");\n  let tbody = document.querySelector(\"#tbody\");\n  let empty = document.querySelector(\"#empty\");\n  let totalDebit = 0;\n  let totalCredit = 0;\n  let solde = 0;\n  let relevant = trans.filter(el => (Date(el.date) > start))\n  console.table(relevant)\n\n  if (trans && trans.length > 0) {\n    thead.style.display = \"table-header-group\";\n    // document.querySelector(\"#tr-total\").style.display = \"table-row\"\n    // document.querySelector(\"#tr-solde\").style.display = \"table-row\"\n\n    let num = 0;\n    tbody.innerHTML = \"\";\n    \n    for (let i = 0; i < trans.length; i++) {\n      const rec = trans[i];\n      let dateTrans = new Date(rec.date)\n      console.log(label,rec.label_debit,rec.label_credit);\n      if(dateTrans> start && dateTrans < end && (rec.label_debit === label|| rec.label_credit === label)) \n      {  \n        console.log('poi',dateTrans)\n        tr = document.createElement(\"tr\");\n        date_td = document.createElement(\"td\");\n        label_td = document.createElement(\"td\");\n        debit_td = document.createElement(\"td\");\n        credit_td = document.createElement(\"td\");\n\n        date_td.innerHTML = rec.date;\n        label_td.innerHTML = rec.object;\n\n        if (rec.amount_debit_debit) {\n          debit_td.innerHTML = rec.amount_debit_debit;\n          totalDebit += +rec.amount_debit_debit;\n\n        }else\n        if (rec.amount_credit_debit) {\n          debit_td.innerHTML = rec.amount_credit_debit;\n          totalDebit += +rec.amount_credit_debit;\n\n        }\n\n        if (rec.amount_debit_credit) {\n          credit_td.innerHTML = rec.amount_debit_credit;\n          totalCredit += +rec.amount_debit_credit;\n\n        }else\n        if (rec.amount_credit_credit) {\n          credit_td.innerHTML = rec.amount_credit_credit;\n          totalCredit += +rec.amount_credit_credit;\n\n        }\n\n          if(num % 2 === 0) tr.classList.add(\"even-row\");\n\n        tr.appendChild(date_td);\n        tr.appendChild(label_td);\n        tr.appendChild(debit_td);\n        tr.appendChild(credit_td);\n        num++;\n        tbody.appendChild(tr);\n        document.querySelector(\"table\").style.display = \"table\";\n      }\n    }\n    /* for (let i = 0; i < trans.length; i += 2) {\n      const l_debit = trans[i];\n      const l_credit = trans[i + 1];\n      let dateDeb = new Date(l_debit.date)\n      let dateCred = new Date(l_credit.date);\n      console.log('poi',dateDeb)\n      console.log('poi',dateCred);\n      tr = document.createElement(\"tr\");\n      date_td = document.createElement(\"td\");\n      label_td = document.createElement(\"td\");\n      debit_td = document.createElement(\"td\");\n      credit_td = document.createElement(\"td\");\n\n      date_td.innerHTML = l_debit.date;\n      label_td.innerHTML = l_debit.object;\n\n      if (l_debit.amount_debit_debit) {\n        debit_td.innerHTML = l_debit.amount_debit_debit;\n        credit_td.innerHTML = l_credit.amount_credit_credit;\n\n        totalDebit += +l_debit.amount_debit_debit;\n        totalCredit += +l_credit.amount_credit_credit;\n        console.log(\":)\", totalDebit);\n        tr.classList.add(\"even-row\");\n      } else {\n        debit_td.innerHTML = l_credit.amount_credit_debit;\n        credit_td.innerHTML = l_debit.amount_debit_credit;\n\n        // totalDebit += +l_debit.amount_credit_debit;\n        // totalCredit += +l_credit.amount_debit_credit;\n      }\n\n      tr.appendChild(date_td);\n      tr.appendChild(label_td);\n      tr.appendChild(debit_td);\n      tr.appendChild(credit_td);\n      num++;\n      tbody.appendChild(tr);\n    } */\n  } else {\n    // container = document.querySelector('.container');\n    // thead.style.display = \"none\";\n    document.querySelector(\"table\").style.display = \"none\";\n    // tbody.innerHTML = \"\";\n    empty = document.querySelector(\"#empty\");\n    empty.innerHTML = \"No log saved yet\";\n  }\n  document.querySelector(\"#totalDebit\").innerHTML = totalDebit;\n  document.querySelector(\"#totalCredit\").innerHTML = totalCredit;\n  document.querySelector(\"#solde\").innerHTML = totalDebit - totalCredit;\n};\n\ngetReport = function () {\n  console.log('get rep');\n  let dateInf = new Date(getElementValue(\"#dateInf\"));\n  let dateSup = new Date(getElementValue(\"#dateSup\"));\n  let reportLabel = getElementValue(\"#reportLabel\");\n  console.log(dateInf);\n  console.log(dateSup);\n  if (dateInf && dateSup && dateInf < dateSup) {\n    renderReport(dateInf, dateSup, reportLabel);\n    console.log(\"ok\");\n  }\n};\nloadAccounts();\nloadTransactions();\ngetReport();\n\nlet optionList = document.querySelector('#reportLabel').options;\naccounts.forEach(a =>\n  optionList.add(\n    new Option(a.label, a.label, false)\n  )\n);\n\n"],"names":[],"version":3,"file":"state.6f854483.js.map","sourceRoot":"/__parcel_source_root/"}